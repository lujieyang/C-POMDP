<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of SimulateFrom</title>
  <meta name="keywords" content="SimulateFrom">
  <meta name="description" content="Simulates a POMDP from a given belief.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<table width="810" border="0" align="center" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
  <tr>
    <td>
      <img src="../../top.png" alt="Institut de Rob&ograve;tica i Inform&agrave;tica Industrial" width="775" height="60" border="0" USEMAP="#logos"/></td>
      <map name="logos">
       <area shape="rect" coords="740,0,775,60" href="http://www.csic.es" target="_blank">
       <area shape="circle" coords="706,29,20" href="http://www.upc.edu" target="_blank">
       <area shape="rect" coords ="0,0,740,60" href="http://www-iri.upc.es" target="_blank">
      </map>
    </td>
  </tr>
  <tr>
    <td>


<a name="_top"></a>
<!-- # POMDP --><!-- # @POMDP -->
<h1>SimulateFrom
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>Simulates a POMDP from a given belief.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function r=SimulateFrom(P,V,start,n) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">   Simulates a POMDP from a given belief.

   Simulates a POMDP from a given belief ('start') for 'n' steps and using
   the given policy ('V') to decide the actions to execute.

   The functions drawns a state at random from the 'start' distribution
   and uses is as a hidden state in the simulation. This hidden state is
   used to query the observation and reward models.

   Returns the accumulated discounted reward fro the simulation.
   
   This function is basically used to get statistics for the policy
   derived after a planning session. As the elements in 'V' increase, the
   simulation can get quite time demanding. Actually, this is the most
   expensive step of the statistics collection that is more costly than
   the planning itself.

   See also GetPOMDPSolutionStatistics.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../.././@Policy/OptimalAction.html" class="code" title="function [a v]=OptimalAction(P,b)">OptimalAction</a>	Returns the optimal action for a given belief.</li><li><a href="../.././@Policy/empty.html" class="code" title="function e=empty(P)">empty</a>	Checks if a policy is empty.</li><li><a href="../.././Belief/@DBelief/rand.html" class="code" title="function v=rand(b)">rand</a>	Random state from a discrete belief.</li><li><a href="../.././Belief/@GBelief/get.html" class="code" title="function v=get(gb,field)">get</a>	Get for GBeliefs.</li><li><a href="../.././Belief/@PBelief/rand.html" class="code" title="function v=rand(b)">rand</a>	Random state from a belief.</li><li><a href="../.././Lib/@GMixture/get.html" class="code" title="function value=get(gm,field,varargin)">get</a>	Get function for the GMixture object.</li><li><a href="../.././Lib/@GMixture/rand.html" class="code" title="function v=rand(gm,varargin)">rand</a>	Generates random points on a GMixture.</li><li><a href="../.././Lib/@Gaussian/get.html" class="code" title="function out=get(g,field)">get</a>	Gaussian object get function.</li><li><a href="../.././Lib/@Gaussian/rand.html" class="code" title="function r=rand(g,varargin)">rand</a>	Generates random ponts on a Gaussian.</li><li><a href="../.././POMDP/@CS_CO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_CO_CA_POMDPs.</li><li><a href="../.././POMDP/@CS_CO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_CO_DA_POMDPs.</li><li><a href="../.././POMDP/@CS_CO_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_CO_POMDPs.</li><li><a href="../.././POMDP/@CS_DO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_DO_CA_POMDPs.</li><li><a href="../.././POMDP/@CS_DO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_DO_DA_POMDPs.</li><li><a href="../.././POMDP/@CS_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_POMDPs.</li><li><a href="../.././POMDP/@DS_CO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_CO_CA_POMDPs.</li><li><a href="../.././POMDP/@DS_CO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_CO_DA_POMDPs.</li><li><a href="../.././POMDP/@DS_DO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_DO_CA_POMDPs.</li><li><a href="../.././POMDP/@DS_DO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_DO_DA_POMDPs.</li><li><a href="SimulationStep.html" class="code" title="function [s b o r]=SimulationStep(P,b,s,a)">SimulationStep</a>	Executes one step of a POMDP simulation.</li><li><a href="get.html" class="code" title="function value=get(P,field)">get</a>	Get functio for POMDPs.</li><li><a href="../.././Space/@CSpace/rand.html" class="code" title="function v=rand(CS)">rand</a>	Random state from a continuous space.</li><li><a href="../.././Space/@DSpace/rand.html" class="code" title="function v=rand(DS)">rand</a>	Random state from a discrete space.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../.././Lib/GetPOMDPSolutionStatistics.html" class="code" title="function [tics aV aR nA nC]=GetPOMDPSolutionStatistics(POMDP,P,B,V,Alpha,time,maxTime,stTime)">GetPOMDPSolutionStatistics</a>	Collects statistics with the outcome of an experiment.</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function r=SimulateFrom(P,V,start,n)</a>
0002 <span class="comment">%   Simulates a POMDP from a given belief.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%   Simulates a POMDP from a given belief ('start') for 'n' steps and using</span>
0005 <span class="comment">%   the given policy ('V') to decide the actions to execute.</span>
0006 <span class="comment">%</span>
0007 <span class="comment">%   The functions drawns a state at random from the 'start' distribution</span>
0008 <span class="comment">%   and uses is as a hidden state in the simulation. This hidden state is</span>
0009 <span class="comment">%   used to query the observation and reward models.</span>
0010 <span class="comment">%</span>
0011 <span class="comment">%   Returns the accumulated discounted reward fro the simulation.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%   This function is basically used to get statistics for the policy</span>
0014 <span class="comment">%   derived after a planning session. As the elements in 'V' increase, the</span>
0015 <span class="comment">%   simulation can get quite time demanding. Actually, this is the most</span>
0016 <span class="comment">%   expensive step of the statistics collection that is more costly than</span>
0017 <span class="comment">%   the planning itself.</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%   See also GetPOMDPSolutionStatistics.</span>
0020 
0021   A=<a href="get.html" class="code" title="function value=get(P,field)">get</a>(P,<span class="string">'ActionSpace'</span>);
0022   noPolicy=<a href="../.././@Policy/empty.html" class="code" title="function e=empty(P)">empty</a>(V);
0023   s=<a href="../.././Belief/@DBelief/rand.html" class="code" title="function v=rand(b)">rand</a>(start);
0024   b=start;
0025   r=0;
0026   gamma=1;
0027   <span class="keyword">for</span> i=1:n
0028     <span class="keyword">if</span> noPolicy
0029       a=<a href="../.././Belief/@DBelief/rand.html" class="code" title="function v=rand(b)">rand</a>(A);
0030     <span class="keyword">else</span>
0031       a=<a href="../.././@Policy/OptimalAction.html" class="code" title="function [a v]=OptimalAction(P,b)">OptimalAction</a>(V,b);
0032     <span class="keyword">end</span>
0033     [s b o r1]=<a href="SimulationStep.html" class="code" title="function [s b o r]=SimulationStep(P,b,s,a)">SimulationStep</a>(P,b,s,a);
0034     r=r+gamma*r1;
0035     gamma=gamma*P.gamma;
0036   <span class="keyword">end</span>
0037</pre></div>
<br>
<br>

  </table>
 <table width="810" height="35" border="0" align="center" cellpadding="0" background="../../espai.png">
  <tr>
    <td>
      <span class="footer" align="center"><center>
        <a href="http://www-iri.upc.es"  target="_blank">Institut de Rob&ograve;tica i Inform&agrave;tica Industrial</a>
      </center></span>
    </td>
  </tr>
</table>

<hr><address>Generated on Wed 05-Aug-2009 15:05:21 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>