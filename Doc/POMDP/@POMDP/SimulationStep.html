<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of SimulationStep</title>
  <meta name="keywords" content="SimulationStep">
  <meta name="description" content="Executes one step of a POMDP simulation.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<table width="810" border="0" align="center" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
  <tr>
    <td>
      <img src="../../top.png" alt="Institut de Rob&ograve;tica i Inform&agrave;tica Industrial" width="775" height="60" border="0" USEMAP="#logos"/></td>
      <map name="logos">
       <area shape="rect" coords="740,0,775,60" href="http://www.csic.es" target="_blank">
       <area shape="circle" coords="706,29,20" href="http://www.upc.edu" target="_blank">
       <area shape="rect" coords ="0,0,740,60" href="http://www-iri.upc.es" target="_blank">
      </map>
    </td>
  </tr>
  <tr>
    <td>


<a name="_top"></a>
<!-- # POMDP --><!-- # @POMDP -->
<h1>SimulationStep
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>Executes one step of a POMDP simulation.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function [s b o r]=SimulationStep(P,b,s,a) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">   Executes one step of a POMDP simulation.
   
   It updates the belief using the corresponding Prediction method and the
   given action and then corrects the belief using the corresponding
   Update method.
   The implementation of both the Prediction and Update methods are
   dependant on the nature of the beliefs.

   Parameters:
     P: The POMDP.
     b: The belief to update.
     s: The hidden state (used to query the observation and reward models)
     a: The action to execute.

   Outputs:
     s: The new hidden state.
     b: The new belief.
     o: The observation used in the Update.
     r: The reward obtained in the new attained (hidden) state.

   See also DBelief, GBelief, PBelief, <a href="SimulateFrom.html" class="code" title="function r=SimulateFrom(P,V,start,n)">SimulateFrom</a>.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../.././ActionModel/@CS_CA_ActionModel/Prediction.html" class="code" title="function [sOut bOut]=Prediction(AM,s,b,a,Sp)">Prediction</a>	Belief evolution under the given action.</li><li><a href="../.././ActionModel/@CS_DA_ActionModel/Prediction.html" class="code" title="function [sOut bOut]=Prediction(AM,s,b,a,Sp)">Prediction</a>	Belief evolution under the given action.</li><li><a href="../.././ActionModel/@DS_CA_ActionModel/Prediction.html" class="code" title="function [sOut bOut]=Prediction(AM,s,b,a,Sp)">Prediction</a>	Belief evolution under the given action.</li><li><a href="../.././ActionModel/@DS_DA_ActionModel/Prediction.html" class="code" title="function [sOut bOut]=Prediction(AM,s,b,a,Sp)">Prediction</a>	Belief evolution under the given action.</li><li><a href="../.././Belief/@DBelief/Prediction.html" class="code" title="function bOut=Prediction(b,t,Sp)">Prediction</a>	Belief evolution given a transition model.</li><li><a href="../.././Belief/@DBelief/Update.html" class="code" title="function bOut=Update(b,po,Sp)">Update</a>	Belief evolution under an observation model.</li><li><a href="../.././Belief/@DBelief/rand.html" class="code" title="function v=rand(b)">rand</a>	Random state from a discrete belief.</li><li><a href="../.././Belief/@GBelief/Prediction.html" class="code" title="function bOut=Prediction(b,t,Sp)">Prediction</a>	Belief evolution given a transition model.</li><li><a href="../.././Belief/@GBelief/Update.html" class="code" title="function bOut=Update(b,po,Sp)">Update</a>	Belief evolution under an observation model.</li><li><a href="../.././Belief/@GBelief/get.html" class="code" title="function v=get(gb,field)">get</a>	Get for GBeliefs.</li><li><a href="../.././Belief/@PBelief/Prediction.html" class="code" title="function bOut=Prediction(b,t,Sp)">Prediction</a>	Belief evolution given a transition model.</li><li><a href="../.././Belief/@PBelief/Update.html" class="code" title="function bOut=Update(b,po,Sp)">Update</a>	Belief evolution under an observation model.</li><li><a href="../.././Belief/@PBelief/rand.html" class="code" title="function v=rand(b)">rand</a>	Random state from a belief.</li><li><a href="../.././Lib/@GMixture/get.html" class="code" title="function value=get(gm,field,varargin)">get</a>	Get function for the GMixture object.</li><li><a href="../.././Lib/@GMixture/rand.html" class="code" title="function v=rand(gm,varargin)">rand</a>	Generates random points on a GMixture.</li><li><a href="../.././Lib/@Gaussian/get.html" class="code" title="function out=get(g,field)">get</a>	Gaussian object get function.</li><li><a href="../.././Lib/@Gaussian/rand.html" class="code" title="function r=rand(g,varargin)">rand</a>	Generates random ponts on a Gaussian.</li><li><a href="../.././Lib/RandVector.html" class="code" title="function i=RandVector(v)">RandVector</a>	Selects and element from a discrete probability distribution.</li><li><a href="../.././ObsModel/@CS_CO_ObsModel/GetObsModelFixedS.html" class="code" title="function p=GetObsModelFixedS(OM,s)">GetObsModelFixedS</a>	Defines p(o|s) for a fixed 's'.</li><li><a href="../.././ObsModel/@CS_DO_ObsModel/GetObsModelFixedS.html" class="code" title="function p=GetObsModelFixedS(OM,s)">GetObsModelFixedS</a>	Defines p(o|s)</li><li><a href="../.././ObsModel/@DS_CO_ObsModel/GetObsModelFixedS.html" class="code" title="function p=GetObsModelFixedS(OM,s)">GetObsModelFixedS</a>	Defines p(o|s).</li><li><a href="../.././ObsModel/@DS_DO_ObsModel/GetObsModelFixedS.html" class="code" title="function p=GetObsModelFixedS(OM,s)">GetObsModelFixedS</a>	Defines p(o|s).</li><li><a href="../.././ObsModel/@ObsModel/Update.html" class="code" title="function [bOut po]=Update(OM,b,o,Sp)">Update</a>	Belief evolution under an observation model.</li><li><a href="../.././POMDP/@CS_CO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_CO_CA_POMDPs.</li><li><a href="../.././POMDP/@CS_CO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_CO_DA_POMDPs.</li><li><a href="../.././POMDP/@CS_CO_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_CO_POMDPs.</li><li><a href="../.././POMDP/@CS_DO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_DO_CA_POMDPs.</li><li><a href="../.././POMDP/@CS_DO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_DO_DA_POMDPs.</li><li><a href="../.././POMDP/@CS_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for CS_POMDPs.</li><li><a href="../.././POMDP/@DS_CO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_CO_CA_POMDPs.</li><li><a href="../.././POMDP/@DS_CO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_CO_DA_POMDPs.</li><li><a href="../.././POMDP/@DS_DO_CA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_DO_CA_POMDPs.</li><li><a href="../.././POMDP/@DS_DO_DA_POMDP/get.html" class="code" title="function value=get(P,field)">get</a>	Get function for DS_DO_DA_POMDPs.</li><li><a href="get.html" class="code" title="function value=get(P,field)">get</a>	Get functio for POMDPs.</li><li><a href="../.././RewardModel/@CS_CA_RewardModel/Reward.html" class="code" title="function r=Reward(RM,a,s)">Reward</a>	Evaluates the reward function.</li><li><a href="../.././RewardModel/@CS_DA_RewardModel/Reward.html" class="code" title="function r=Reward(RM,a,s)">Reward</a>	Evaluates the reward function.</li><li><a href="../.././RewardModel/@DS_CA_RewardModel/Reward.html" class="code" title="function r=Reward(RM,a,s)">Reward</a>	Evaluates the reward function.</li><li><a href="../.././RewardModel/@DS_DA_RewardModel/Reward.html" class="code" title="function r=Reward(RM,a,s)">Reward</a>	Evaluates the reward function.</li><li><a href="../.././Space/@CSpace/rand.html" class="code" title="function v=rand(CS)">rand</a>	Random state from a continuous space.</li><li><a href="../.././Space/@DSpace/rand.html" class="code" title="function v=rand(DS)">rand</a>	Random state from a discrete space.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../.././Experiments/MakeFigure3.html" class="code" title="function MakeFigure3(varargin)">MakeFigure3</a>	Generates Figure 3.</li><li><a href="SampleBeliefs.html" class="code" title="function SB=SampleBeliefs(P,start,nBeliefs,minBeliefDist,stepsXtrial,minR,maxR)">SampleBeliefs</a>	Samples a set of beliefs from a POMDP.</li><li><a href="SimulateFrom.html" class="code" title="function r=SimulateFrom(P,V,start,n)">SimulateFrom</a>	Simulates a POMDP from a given belief.</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [s b o r]=SimulationStep(P,b,s,a)</a>
0002 <span class="comment">%   Executes one step of a POMDP simulation.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%   It updates the belief using the corresponding Prediction method and the</span>
0005 <span class="comment">%   given action and then corrects the belief using the corresponding</span>
0006 <span class="comment">%   Update method.</span>
0007 <span class="comment">%   The implementation of both the Prediction and Update methods are</span>
0008 <span class="comment">%   dependant on the nature of the beliefs.</span>
0009 <span class="comment">%</span>
0010 <span class="comment">%   Parameters:</span>
0011 <span class="comment">%     P: The POMDP.</span>
0012 <span class="comment">%     b: The belief to update.</span>
0013 <span class="comment">%     s: The hidden state (used to query the observation and reward models)</span>
0014 <span class="comment">%     a: The action to execute.</span>
0015 <span class="comment">%</span>
0016 <span class="comment">%   Outputs:</span>
0017 <span class="comment">%     s: The new hidden state.</span>
0018 <span class="comment">%     b: The new belief.</span>
0019 <span class="comment">%     o: The observation used in the Update.</span>
0020 <span class="comment">%     r: The reward obtained in the new attained (hidden) state.</span>
0021 <span class="comment">%</span>
0022 <span class="comment">%   See also DBelief, GBelief, PBelief, SimulateFrom.</span>
0023 
0024   S=<a href="get.html" class="code" title="function value=get(P,field)">get</a>(P,<span class="string">'StateSpace'</span>);
0025   
0026   [s b]=<a href="../.././ActionModel/@CS_CA_ActionModel/Prediction.html" class="code" title="function [sOut bOut]=Prediction(AM,s,b,a,Sp)">Prediction</a>(P,s,b,a,S);
0027   
0028   po=<a href="../.././ObsModel/@CS_CO_ObsModel/GetObsModelFixedS.html" class="code" title="function p=GetObsModelFixedS(OM,s)">GetObsModelFixedS</a>(P,s);
0029   <span class="keyword">if</span> isa(po,<span class="string">'double'</span>)
0030     o=<a href="../.././Lib/RandVector.html" class="code" title="function i=RandVector(v)">RandVector</a>(po);
0031   <span class="keyword">else</span>
0032     o=<a href="../.././Belief/@DBelief/rand.html" class="code" title="function v=rand(b)">rand</a>(po);
0033   <span class="keyword">end</span>
0034   b=<a href="../.././Belief/@DBelief/Update.html" class="code" title="function bOut=Update(b,po,Sp)">Update</a>(P,b,o,S);
0035   
0036   r=<a href="../.././RewardModel/@CS_CA_RewardModel/Reward.html" class="code" title="function r=Reward(RM,a,s)">Reward</a>(P,a,s);
0037</pre></div>
<br>
<br>

  </table>
 <table width="810" height="35" border="0" align="center" cellpadding="0" background="../../espai.png">
  <tr>
    <td>
      <span class="footer" align="center"><center>
        <a href="http://www-iri.upc.es"  target="_blank">Institut de Rob&ograve;tica i Inform&agrave;tica Industrial</a>
      </center></span>
    </td>
  </tr>
</table>

<hr><address>Generated on Wed 05-Aug-2009 15:05:21 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>